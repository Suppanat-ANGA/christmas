<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANGA Mastery - Christmas Prank</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        :root {
            --brand-blue: #21409A;
            --brand-orange: #F7941E;
            --xmas-red: #D42426;
            --xmas-green: #165B33;
            --xmas-gold: #FFD700;
            --bg-night: #0f2044;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Kanit', sans-serif; }

        body {
            background: linear-gradient(to bottom, var(--bg-night), var(--brand-blue));
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; 
            padding: 20px; 
            position: relative; 
            overflow-x: hidden; 
        }

        /* --- SNOWFALL EFFECT --- */
        .snow-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 100;
        }

        .snow {
            position: absolute; top: -20px;
            background: white; border-radius: 50%;
            filter: blur(0.8px); animation: snowfall linear infinite;
        }

        @keyframes snowfall {
            0% { transform: translateY(-20px) translateX(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) translateX(30px) rotate(360deg); opacity: 0.3; }
        }

        .snow:nth-child(1) { left: 5%;  animation-duration: 2.5s; width: 8px; height: 8px; animation-delay: 0s; }
        .snow:nth-child(2) { left: 15%; animation-duration: 3.5s; width: 12px; height: 12px; animation-delay: 1s; }
        .snow:nth-child(3) { left: 25%; animation-duration: 2s; width: 6px; height: 6px; animation-delay: 0.5s; }
        .snow:nth-child(4) { left: 35%; animation-duration: 4s; width: 10px; height: 10px; animation-delay: 0.2s; }
        .snow:nth-child(5) { left: 45%; animation-duration: 2.8s; width: 14px; height: 14px; animation-delay: 0s; }
        .snow:nth-child(6) { left: 55%; animation-duration: 3s; width: 8px; height: 8px; animation-delay: 1.5s; }
        .snow:nth-child(7) { left: 65%; animation-duration: 3.8s; width: 12px; height: 12px; animation-delay: 0.5s; }
        .snow:nth-child(8) { left: 75%; animation-duration: 2.2s; width: 7px; height: 7px; animation-delay: 1s; }
        .snow:nth-child(9) { left: 85%; animation-duration: 3.2s; width: 10px; height: 10px; animation-delay: 0.8s; }
        .snow:nth-child(10){ left: 95%; animation-duration: 2.5s; width: 9px; height: 9px; animation-delay: 0s; }


        /* --- RESPONSIVE CONTAINER --- */
        .desktop-container {
            width: 100%; 
            max-width: 1200px;
            aspect-ratio: 16 / 9;
            background: white; 
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            overflow: hidden; 
            display: flex; 
            position: relative; 
            z-index: 10;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 35%;
            background: linear-gradient(135deg, var(--brand-blue) 30%, var(--xmas-green) 100%);
            color: white;
            display: flex; flex-direction: column; justify-content: center;
            padding: 50px; position: relative;
        }

        /* --- MAIN CONTENT --- */
        .main-content {
            width: 65%; 
            background: #f8fdfb; 
            display: flex; justify-content: center; align-items: center; 
            position: relative;
        }

        /* --- LOGO WRAPPER --- */
        .logo-wrapper {
            position: relative; 
            display: inline-block;
            margin-bottom: 30px;
            width: fit-content;
        }

        .logo-container {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            min-width: 200px;
            min-height: 120px;
        }

        .logo-image { 
            width: 100%; 
            max-width: 200px; 
            height: auto; 
            display: block; 
            margin: 0 auto;
        }
        
        .santa-hat-svg {
            position: absolute;
            width: 100px;
            height: 100px;
            top: -55px;
            left: -30px;
            transform: rotate(-15deg);
            z-index: 20;
            filter: drop-shadow(3px 3px 5px rgba(0,0,0,0.3));
        }

        .season-greeting { font-size: 1.1rem; font-weight: 300; opacity: 0.95; line-height: 1.6; }

        .garland-top {
            position: absolute; top: 0; left: 0; width: 100%; height: 30px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20" preserveAspectRatio="none"><path d="M0 10 Q 25 -10, 50 10 T 100 10" stroke="%23165B33" fill="none" stroke-width="3"/></svg>');
            background-size: 50px 100%;
        }

        /* --- VIEWS --- */
        .view-section {
            width: 100%; max-width: 400px; text-align: center; display: none; animation: fadeIn 0.5s ease;
        }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* QR DISPLAY */
        .qr-box-container {
            background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 4px dashed var(--xmas-red); display: inline-block; margin: 20px 0;
        }
        #qrcode { width: 200px; height: 200px; margin: 0 auto; }
        #qrcode img { margin: 0 auto; }

        .scan-instruction { color: var(--brand-blue); margin-top: 15px; font-weight: 600; }
        .merchant-note { font-size: 0.8rem; color: #888; margin-top: 20px; background: #eee; padding: 10px; border-radius: 8px; }

        /* CLAIM PAGE STYLES */
        .claim-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid var(--xmas-gold);
        }
        .btn-claim {
            background: linear-gradient(to right, var(--brand-orange), #ff6b6b);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 15px rgba(247, 148, 30, 0.4);
            transition: all 0.2s;
            width: 100%;
            margin-top: 20px;
            font-weight: bold;
            animation: pulseBtn 2s infinite;
        }
        @keyframes pulseBtn {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .limit-badge {
            background: var(--xmas-red); color: white;
            padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: bold;
            display: inline-block; margin-bottom: 15px;
        }

        /* PRANK SUCCESS RECEIPT */
        .success-card { width: 100%; }
        
        /* Funny Prank Icon Style */
        .check-circle-prank {
            width: 100px; height: 100px; 
            background: #ff6b6b; /* Reddish Background */
            border: 4px solid #c0392b; 
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center; 
            margin: 0 auto 20px auto; 
            color: white; 
            font-size: 3rem; 
            animation: shake 0.5s infinite;
        }
        
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            50% { transform: rotate(0eg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        .receipt-box { background: white; border: 2px dashed var(--xmas-gold); padding: 20px; border-radius: 15px; margin-top: 20px; text-align: left; }
        .receipt-row { display: flex; justify-content: space-between; margin-bottom: 10px; color: #555; font-size: 0.95rem; }
        .receipt-total { border-top: 1px solid #eee; padding-top: 10px; margin-top: 10px; font-weight: bold; color: var(--brand-blue); }

        .sim-link { display: block; margin-top: 10px; color: var(--brand-orange); text-decoration: underline; cursor: pointer; font-size: 0.9rem; }

        @media (max-width: 900px) {
            body { padding: 0; align-items: flex-start; background: var(--brand-blue); }
            .desktop-container { flex-direction: column; width: 100%; max-width: 100%; aspect-ratio: auto; height: auto; min-height: 100vh; border-radius: 0; }
            .sidebar { width: 100%; padding: 40px 20px 30px 20px; align-items: center; text-align: center; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); z-index: 20; }
            .logo-wrapper { margin-bottom: 15px; margin-top: 10px; }
            .logo-image { max-width: 160px; } 
            .santa-hat-svg { width: 70px; height: 70px; top: -40px; left: -20px; }
            .season-greeting { font-size: 0.9rem; margin-top: 10px; }
            .main-content { width: 100%; padding: 40px 20px; background: #f8fdfb; flex: 1; align-items: flex-start; }
            .view-section { width: 100%; max-width: 100%; }
        }
    </style>
</head>
<body>

    <div class="snow-container">
        <div class="snow"></div><div class="snow"></div><div class="snow"></div><div class="snow"></div>
        <div class="snow"></div><div class="snow"></div><div class="snow"></div><div class="snow"></div>
        <div class="snow"></div><div class="snow"></div><div class="snow"></div><div class="snow"></div>
    </div>

    <div class="desktop-container">
        
        <div class="sidebar">
            <div class="logo-wrapper">
                <svg class="santa-hat-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path fill="#D42426" d="M418.4,156.6c-45.6-26.7-65.7-18.3-90.1,6.1c-14.7,14.7-27.1,34.2-34.8,55.1
                        c-48.4-56.1-133.7-46.7-160.7-32.5c-48.1,25.2-61.1,100.9-20.9,157.9c16.2,23,43.2,40.1,70.5,49.8
                        c127,45.3,275.9-42.5,275.9-42.5C487.6,303,473.4,188.8,418.4,156.6z"/>
                    <circle fill="#FFFFFF" cx="448" cy="128" r="48"/>
                    <path fill="#FFFFFF" d="M112,352c-26.5,0-48,21.5-48,48s21.5,48,48,48s48-21.5,48-48S138.5,352,112,352z M176,368
                        c-26.5,0-48,21.5-48,48s21.5,48,48,48s48-21.5,48-48S202.5,368,176,368z M240,368c-26.5,0-48,21.5-48,48s21.5,48,48,48
                        s48-21.5,48-48S266.5,368,240,368z M304,352c-26.5,0-48,21.5-48,48s21.5,48,48,48s48-21.5,48-48S330.5,352,304,352z"/>
                </svg>
                
                <div class="logo-container">
                    <img src="https://i.postimg.cc/ZWPch8WH/logo.png" 
                         alt="‡∏Ñ‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á Logo" 
                         class="logo-image" 
                         referrerpolicy="no-referrer">
                </div>
            </div>
            
            <p class="season-greeting">
                ‡∏Ñ‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏û‡∏•‡∏±‡∏™ ‡πÄ‡∏ü‡∏™ 2<br>
                <strong>‡∏¢‡∏±‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡∏ô‡∏∞‡∏à‡πä‡∏∞ ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏á‡∏±‡∏ö</strong>
            </p>
        </div>

        <div class="main-content">
            <div class="garland-top"></div>

            <div id="merchant-view" class="view-section active">
                <div class="limit-badge"><i class="fas fa-exclamation-circle"></i> ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î</div>
                <h2 style="color:var(--brand-blue); font-size:1.5rem;">‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</h2>
                <p style="color:#666; margin-bottom:10px;">First Come First Serve (‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡πà‡∏≠‡∏ô)</p>
                <p style="color:#888; font-size:0.9rem;">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤: <strong>ANGA Mastery</strong></p>
                
                <div class="qr-box-container">
                    <div id="qrcode"></div>
                </div>

                <div class="scan-instruction">
                    <i class="fas fa-mobile-alt"></i> ‡πÉ‡∏ä‡πâ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏™‡πÅ‡∏Å‡∏ô‡∏î‡πà‡∏ß‡∏ô
                </div>

                <div class="merchant-note">
                    <strong>For Demo:</strong> Phone can't open local file links.
                    <br>
                    <span class="sim-link" onclick="window.location.search='?step=claim'">Click here to simulate User Scan</span>
                </div>
            </div>

            <div id="claim-view" class="view-section">
                <div class="claim-card">
                    <i class="fas fa-gift" style="font-size:3rem; color:var(--brand-orange); margin-bottom:15px;"></i>
                    <h2 style="color:var(--brand-blue);">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</h2>
                    <p style="font-size:1.1rem; color:#444; margin: 10px 0;">‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</p>
                    <p style="color:var(--xmas-red); font-weight:bold;">‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡πá‡∏≠‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</p>
                    
                    <button class="btn-claim" onclick="window.location.search='?step=success'">
                        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ñ‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á
                    </button>
                    
                    <p style="margin-top:15px; font-size:0.8rem; color:#999;">
                        ‡∏£‡∏∞‡∏ö‡∏ö First Come First Serve<br>‡∏´‡∏≤‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏≠‡∏≤‡∏à‡∏´‡∏•‡∏∏‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                    </p>
                </div>
            </div>

            <div id="success-view" class="view-section">
                <div class="success-card">
                    <div class="check-circle-prank">
                        <i class="fas fa-laugh-squint"></i>
                    </div>
                    
                    <h2 style="color:#c0392b; margin-bottom:5px; font-size:1.8rem;">‡πÇ‡∏î‡∏ô‡πÅ‡∏Å‡∏á‡πÅ‡∏•‡πâ‡∏ß! ü§™</h2>
                    <p style="color:#666;">‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢... ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏à‡∏Å‡∏à‡πâ‡∏≤</p>

                    <div class="receipt-box">
                        <div style="text-align:center; color:var(--brand-blue); margin-bottom:15px; font-weight:bold; font-size:1.1rem;">
                            <i class="fas fa-glass-cheers"></i> ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏≠‡∏á 100% ‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏° <i class="fas fa-glass-cheers"></i>
                        </div>
                        <div class="receipt-row">
                            <span>‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span>
                            <span style="color:var(--xmas-red); font-weight:bold; font-size:1.2rem;">0.00 ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="receipt-row">
                            <span>‡∏ú‡∏π‡πâ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô</span>
                            <span>‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á</span>
                        </div>
                        <div class="receipt-row receipt-total">
                            <span>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</span>
                            <span style="color:var(--brand-orange); display:flex; align-items:center; gap:5px;">
                                <i class="fas fa-heart"></i> ‡∏´‡∏¢‡∏≠‡∏Å‡πÜ ‡∏£‡∏±‡∏Å‡∏ô‡∏∞‡∏à‡∏∏‡πä‡∏ö‡πÜ
                            </span>
                        </div>
                    </div>
                    
                    <button onclick="window.location.search=''" style="background:var(--brand-blue); color:white; border:none; padding:12px 30px; border-radius:50px; margin-top:20px; cursor:pointer; width:100%; max-width:200px; font-size:1rem;">
                        ‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢ & ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Logic for 3-Step Flow
        const urlParams = new URLSearchParams(window.location.search);
        const step = urlParams.get('step');

        const merchantView = document.getElementById('merchant-view');
        const claimView = document.getElementById('claim-view');
        const successView = document.getElementById('success-view');

        // Reset all views
        merchantView.classList.remove('active');
        claimView.classList.remove('active');
        successView.classList.remove('active');

        if (step === 'success') {
            // STEP 3: PRANK SUCCESS
            successView.classList.add('active');
        } else if (step === 'claim') {
            // STEP 2: CLAIM LANDING PAGE (FCFS)
            claimView.classList.add('active');
        } else {
            // STEP 1: MERCHANT QR CODE
            merchantView.classList.add('active');
            
            // Generate QR that points to ?step=claim
            const currentURL = window.location.href.split('?')[0]; 
            const targetURL = currentURL + "?step=claim";
            
            const qrSize = window.innerWidth < 600 ? 180 : 200;
            
            document.getElementById("qrcode").innerHTML = "";
            new QRCode(document.getElementById("qrcode"), {
                text: targetURL, width: qrSize, height: qrSize,
                colorDark : "#21409A", colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });
        }
    </script>
</body>
</html>
